{"ast":null,"code":"import React,{useState,useEffect}from'react';import{movieAPI}from'../services/api';import ContentCard from'../components/ContentCard';import Loading from'../components/Loading';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Movies=()=>{const[movies,setMovies]=useState([]);const[loading,setLoading]=useState(true);const[category,setCategory]=useState('popular');const[page,setPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const categories=[{key:'popular',name:'Popular'},{key:'top_rated',name:'Top Rated'},{key:'upcoming',name:'Upcoming'},{key:'trending',name:'Trending'}];useEffect(()=>{const fetchMovies=async()=>{setLoading(true);try{let data;switch(category){case'popular':data=await movieAPI.getPopularMovies(page);break;case'top_rated':data=await movieAPI.getTopRatedMovies(page);break;case'upcoming':data=await movieAPI.getUpcomingMovies(page);break;case'trending':data=await movieAPI.getTrendingMovies();break;default:data=await movieAPI.getPopularMovies(page);}setMovies(data.results||[]);setTotalPages(data.total_pages||1);setLoading(false);}catch(error){console.error('Error fetching movies:',error);setLoading(false);}};fetchMovies();},[category,page]);const handleCategoryChange=newCategory=>{setCategory(newCategory);setPage(1);};const handlePageChange=newPage=>{setPage(newPage);window.scrollTo({top:0,behavior:'smooth'});};return/*#__PURE__*/_jsx(\"div\",{className:\"movies-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-section\",style:{paddingTop:'8rem'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"section-title\",children:\"Movies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"category-filter\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"button\",{className:\"category-btn \".concat(category===cat.key?'active':''),onClick:()=>handleCategoryChange(cat.key),children:cat.name},cat.key))}),loading?/*#__PURE__*/_jsx(Loading,{type:\"skeleton\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"content-grid\",children:movies.map(movie=>/*#__PURE__*/_jsx(ContentCard,{item:movie,type:\"movie\"},movie.id))}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>handlePageChange(page-1),disabled:page===1,children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"page-info\",children:[\"Page \",page,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:\"pagination-btn\",onClick:()=>handlePageChange(page+1),disabled:page===totalPages,children:\"Next\"})]})]})]})});};export default Movies;","map":{"version":3,"names":["React","useState","useEffect","movieAPI","ContentCard","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Movies","movies","setMovies","loading","setLoading","category","setCategory","page","setPage","totalPages","setTotalPages","categories","key","name","fetchMovies","data","getPopularMovies","getTopRatedMovies","getUpcomingMovies","getTrendingMovies","results","total_pages","error","console","handleCategoryChange","newCategory","handlePageChange","newPage","window","scrollTo","top","behavior","className","children","style","paddingTop","map","cat","concat","onClick","type","movie","item","id","disabled"],"sources":["/workspace/src/pages/Movies.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { movieAPI } from '../services/api';\nimport ContentCard from '../components/ContentCard';\nimport Loading from '../components/Loading';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [category, setCategory] = useState('popular');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  const categories = [\n    { key: 'popular', name: 'Popular' },\n    { key: 'top_rated', name: 'Top Rated' },\n    { key: 'upcoming', name: 'Upcoming' },\n    { key: 'trending', name: 'Trending' }\n  ];\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      setLoading(true);\n      try {\n        let data;\n        switch (category) {\n          case 'popular':\n            data = await movieAPI.getPopularMovies(page);\n            break;\n          case 'top_rated':\n            data = await movieAPI.getTopRatedMovies(page);\n            break;\n          case 'upcoming':\n            data = await movieAPI.getUpcomingMovies(page);\n            break;\n          case 'trending':\n            data = await movieAPI.getTrendingMovies();\n            break;\n          default:\n            data = await movieAPI.getPopularMovies(page);\n        }\n        \n        setMovies(data.results || []);\n        setTotalPages(data.total_pages || 1);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching movies:', error);\n        setLoading(false);\n      }\n    };\n\n    fetchMovies();\n  }, [category, page]);\n\n  const handleCategoryChange = (newCategory) => {\n    setCategory(newCategory);\n    setPage(1);\n  };\n\n  const handlePageChange = (newPage) => {\n    setPage(newPage);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <div className=\"movies-page\">\n      <div className=\"content-section\" style={{ paddingTop: '8rem' }}>\n        <h1 className=\"section-title\">Movies</h1>\n        \n        {/* Category Filter */}\n        <div className=\"category-filter\">\n          {categories.map((cat) => (\n            <button\n              key={cat.key}\n              className={`category-btn ${category === cat.key ? 'active' : ''}`}\n              onClick={() => handleCategoryChange(cat.key)}\n            >\n              {cat.name}\n            </button>\n          ))}\n        </div>\n\n        {/* Movies Grid */}\n        {loading ? (\n          <Loading type=\"skeleton\" />\n        ) : (\n          <>\n            <div className=\"content-grid\">\n              {movies.map((movie) => (\n                <ContentCard key={movie.id} item={movie} type=\"movie\" />\n              ))}\n            </div>\n\n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"pagination\">\n                <button\n                  className=\"pagination-btn\"\n                  onClick={() => handlePageChange(page - 1)}\n                  disabled={page === 1}\n                >\n                  Previous\n                </button>\n                <span className=\"page-info\">\n                  Page {page} of {totalPages}\n                </span>\n                <button\n                  className=\"pagination-btn\"\n                  onClick={() => handlePageChange(page + 1)}\n                  disabled={page === totalPages}\n                >\n                  Next\n                </button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Movies;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}