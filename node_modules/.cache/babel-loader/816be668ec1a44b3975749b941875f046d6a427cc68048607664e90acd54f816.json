{"ast":null,"code":"var _jsxFileName = \"/workspace/src/pages/Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { searchAPI } from '../services/api';\nimport ContentCard from '../components/ContentCard';\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Search = () => {\n  _s();\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const location = useLocation();\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const searchQuery = searchParams.get('q');\n    if (searchQuery) {\n      setQuery(searchQuery);\n      performSearch(searchQuery, 1);\n    }\n  }, [location.search]);\n  const performSearch = async (searchQuery, searchPage = 1) => {\n    if (!searchQuery.trim()) return;\n    setLoading(true);\n    try {\n      const data = await searchAPI.searchMulti(searchQuery, searchPage);\n      setResults(data.results || []);\n      setTotalPages(data.total_pages || 1);\n      setPage(searchPage);\n    } catch (error) {\n      console.error('Error searching:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePageChange = newPage => {\n    performSearch(query, newPage);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n  const getContentType = item => {\n    if (item.media_type === 'movie' || item.title) return 'movie';\n    if (item.media_type === 'tv' || item.name) return 'tv';\n    return 'movie'; // default\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-section\",\n      style: {\n        paddingTop: '8rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"section-title\",\n        children: query ? `Search Results for \"${query}\"` : 'Search'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {\n        type: \"skeleton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : results.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-stats\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Found \", results.length, \" results\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-grid\",\n          children: results.map(item => /*#__PURE__*/_jsxDEV(ContentCard, {\n            item: item,\n            type: getContentType(item)\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pagination-btn\",\n            onClick: () => handlePageChange(page - 1),\n            disabled: page === 1,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"page-info\",\n            children: [\"Page \", page, \" of \", totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"pagination-btn\",\n            onClick: () => handlePageChange(page + 1),\n            disabled: page === totalPages,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : query ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"No results found for \\\"\", query, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try searching for something else\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-placeholder\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Start typing to search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Search for movies and TV shows\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Search, \"kD1tK6XYQ3P4WRwfVB0e0Mq0py4=\", false, function () {\n  return [useLocation];\n});\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","searchAPI","ContentCard","Loading","jsxDEV","_jsxDEV","Fragment","_Fragment","Search","_s","results","setResults","loading","setLoading","query","setQuery","page","setPage","totalPages","setTotalPages","location","searchParams","URLSearchParams","search","searchQuery","get","performSearch","searchPage","trim","data","searchMulti","total_pages","error","console","handlePageChange","newPage","window","scrollTo","top","behavior","getContentType","item","media_type","title","name","className","children","style","paddingTop","fileName","_jsxFileName","lineNumber","columnNumber","type","length","map","id","onClick","disabled","_c","$RefreshReg$"],"sources":["/workspace/src/pages/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { searchAPI } from '../services/api';\nimport ContentCard from '../components/ContentCard';\nimport Loading from '../components/Loading';\n\nconst Search = () => {\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const location = useLocation();\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const searchQuery = searchParams.get('q');\n    \n    if (searchQuery) {\n      setQuery(searchQuery);\n      performSearch(searchQuery, 1);\n    }\n  }, [location.search]);\n\n  const performSearch = async (searchQuery, searchPage = 1) => {\n    if (!searchQuery.trim()) return;\n    \n    setLoading(true);\n    try {\n      const data = await searchAPI.searchMulti(searchQuery, searchPage);\n      setResults(data.results || []);\n      setTotalPages(data.total_pages || 1);\n      setPage(searchPage);\n    } catch (error) {\n      console.error('Error searching:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePageChange = (newPage) => {\n    performSearch(query, newPage);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const getContentType = (item) => {\n    if (item.media_type === 'movie' || item.title) return 'movie';\n    if (item.media_type === 'tv' || item.name) return 'tv';\n    return 'movie'; // default\n  };\n\n  return (\n    <div className=\"search-page\">\n      <div className=\"content-section\" style={{ paddingTop: '8rem' }}>\n        <h1 className=\"section-title\">\n          {query ? `Search Results for \"${query}\"` : 'Search'}\n        </h1>\n        \n        {loading ? (\n          <Loading type=\"skeleton\" />\n        ) : results.length > 0 ? (\n          <>\n            <div className=\"search-stats\">\n              <p>Found {results.length} results</p>\n            </div>\n            \n            <div className=\"content-grid\">\n              {results.map((item) => (\n                <ContentCard \n                  key={item.id} \n                  item={item} \n                  type={getContentType(item)}\n                />\n              ))}\n            </div>\n\n            {/* Pagination */}\n            {totalPages > 1 && (\n              <div className=\"pagination\">\n                <button\n                  className=\"pagination-btn\"\n                  onClick={() => handlePageChange(page - 1)}\n                  disabled={page === 1}\n                >\n                  Previous\n                </button>\n                <span className=\"page-info\">\n                  Page {page} of {totalPages}\n                </span>\n                <button\n                  className=\"pagination-btn\"\n                  onClick={() => handlePageChange(page + 1)}\n                  disabled={page === totalPages}\n                >\n                  Next\n                </button>\n              </div>\n            )}\n          </>\n        ) : query ? (\n          <div className=\"no-results\">\n            <h3>No results found for \"{query}\"</h3>\n            <p>Try searching for something else</p>\n          </div>\n        ) : (\n          <div className=\"search-placeholder\">\n            <h3>Start typing to search</h3>\n            <p>Search for movies and TV shows</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Search;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}